<!DOCTYPE html><html lang="en"><head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <title>Exceptions and Errors</title>
  <meta name="description" lang="en-us" content="Discussion of Java errors and error handling.">

  <meta name="slider-id" content="48054c82-9c3a-451f-accf-a0c919d07588">
  <meta name="slider-semester" content="Spring2020">

  <link rel="stylesheet" href="/static-assets/slides.382c79664e8155774040.css">
  <link rel="stylesheet" href="/static-assets/slider.c07795f2b4f26152e912.css">

  <script>
    window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
    ga('create', 'UA-45109275-2', 'auto');
    ga('send', 'pageview');
  </script>
  <script async src="https://www.google-analytics.com/analytics.js"></script>
  <script>
    if (window.location.hostname === 'localhost') {
      window['ga-disable-UA-45109275-2'] = true
    }
  </script>

  <link rel="icon" type="image/png" sizes="228x228" href="/img/favicon/coast-228x228.png">
  <link rel="yandex-tableau-widget" href="/img/favicon/yandex-browser-manifest.json">
  <link rel="apple-touch-icon" sizes="57x57" href="/img/favicon/apple-touch-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/img/favicon/apple-touch-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/img/favicon/apple-touch-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/favicon/apple-touch-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/img/favicon/apple-touch-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/img/favicon/apple-touch-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/img/favicon/apple-touch-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/img/favicon/apple-touch-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/img/favicon/apple-touch-icon-180x180.png">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="CS 125">
  <link rel="icon" type="image/png" sizes="32x32" href="/img/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/img/favicon/favicon-16x16.png">
  <link rel="shortcut icon" href="/img/favicon/favicon.ico">
  <link rel="manifest" href="/img/favicon/manifest.json">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="theme-color" content="#fff">
  <meta name="application-name" content="CS 125">
  <meta name="msapplication-TileColor" content="#fff">
  <meta name="msapplication-TileImage" content="/img/favicon/mstile-144x144.png">
  <meta name="msapplication-config" content="/img/favicon/browserconfig.xml">
  
</head>
<body>
  <header>
    <nav>
      <a class="helpToggle" title="Keyboard shortcut help">
        <i class="fa fa-question-circle" aria-hidden="true"></i>
      </a>
      <a class="menuToggle" title="Close top menu">
        <i class="fa fa-times" aria-hidden="true"></i>
      </a>
    </nav>
  </header>
  <div id="section">
    <article id="content" data-width="640" data-height="480">
      <div class="sect1 janini smaller nozoom bespoke-active bespoke-slide" data-slideid="TtJisSLNUcaxKLyWZHfTUBNaEvfKPpGU">

<textarea class="janini spelling_exception">static void throwError() throws Exception {
  throw new Exception(&quot;Exceptions and Errors&quot;);
}

try {
  throwError();
} catch (Exception e) {
  System.out.println(e);
}</textarea><!-- beautify ignore:start --><div class="output" data-blank="Exceptions and Errors&lt;br/&gt;&gt; Click or hit Control-Enter to run the code above"><pre style="color: white;">Exceptions and Errors<br>&gt; Click or hit Control-Enter to run the code above</pre></div><!-- beautify ignore:end -->
</div>
<div class="sect1 oneword logo bespoke-inactive bespoke-slide" data-slideid="wfdQvQZAipVkTZPRnQrNavedMEtHXFyO">
<div class="header" data-title="Review: So What&#x2019;s a Web API?"><h2>Review: So What&#x2019;s a Web <em>API</em>?</h2></div>
<div class="sectionbody">

</div>
</div>
<div class="sect1 logo bespoke-inactive bespoke-slide" data-slideid="yyuJpkncwjTgIiTBmtNZIUHdZFQnXSGU">
<div class="header" data-title="What&#x2019;s An API?"><h2>What&#x2019;s An API?</h2></div>
<div class="sectionbody">
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p><a href="https://en.wikipedia.org/wiki/Application_programming_interface" target="_blank" class="external">In computer
programming, an application programming interface (API)</a>
is a set of subroutine definitions, protocols, and tools for building
application software.</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>In English, an <em>API</em> is a set of functions that perform a set of related and
useful tasks.</p>
</div>
</div>
</div>
<div class="sect1 logo bespoke-inactive bespoke-slide" data-slideid="VhKcyDdXgMnfeOXUFUtqYTEIXFRxBmua">
<div class="header" data-title="Example API"><h2>Example API</h2></div>
<div class="sectionbody">
<div class="paragraph lead">
<p>Let&#x2019;s say we wanted to find out the weather at a particular location:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java spelling_exception lang-java" data-lang="java">// Get the current weather a particular location
static WeatherInfo getAtLocation(WeatherLocation location)

// Get the current weather a particular location and a particular time
static WeatherInfo getAtLocation(WeatherLocation location, Date date)

// Get a list of possible WeatherInfo objects for a given location string
static WeatherLocation[] searchLocations(String query)</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1 logo bespoke-inactive bespoke-slide" data-slideid="JLNFoBPiCoEGSAeKEmLVCEayqKYizNUm">
<div class="header" data-title="Web APIs"><h2>Web APIs</h2></div><div class="bullet"></div>
<div class="sectionbody">
<div class="paragraph lead">
<p>A <em>web API</em> is just an API that you access over the web. Consider that:</p>
</div>
<div class="ulist">
<ul>
<li class="bullet">
<p>We can send data to a web server using <code>POST</code> and also using URL parameters in
a <code>GET</code> request</p>
</li>
<li class="bullet">
<p>The web server can run code in response</p>
</li>
<li class="bullet">
<p>And return a response, <span class="bullet"><em>which does not have to be an HTML document</em></span></p>
</li>
<li class="bullet">
<p>And in many cases custom internet protocols are blocked by firewalls, making
it attractive to run APIs over HTTP</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1 logo bespoke-inactive bespoke-slide" data-slideid="sQoshKdkerQbElGQyoWmkEymnLkzrZKF">
<div class="header" data-title="Web APIs: Sending Arguments"><h2>Web APIs: Sending Arguments</h2></div><div class="bullet"></div>
<div class="sectionbody">
<div class="listingblock small">
<div class="content">
<pre class="highlight"><code class="language-java spelling_exception lang-java" data-lang="java">// Get the current weather a particular location
static WeatherInfo getAtLocation(WeatherLocation location)</code></pre>
</div>
</div>
<div class="paragraph">
<p>To send the <code>location</code> argument to the <code>getAtLocation</code> function over the web we
have several options:</p>
</div>
<div class="ulist small">
<ul>
<li class="bullet">
<p>Stick it the URL: <code>/api/getAtLocation/(location)/</code>, which can be mapped to a
function call</p>
</li>
<li class="bullet">
<p>Add it as a query parameter: <code>/api/getAtLocation?location=(location)</code></p>
</li>
<li class="bullet">
<p>Use a <code>POST</code> request and put it in the body, possibly as JSON:</p>
</li>
</ul>
</div>
<div class="listingblock small bullet">
<div class="content">
<pre class="highlight"><code class="spelling_exception">POST /api/getAtLocation/

{
  &quot;location&quot;: (location)
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1 logo bespoke-inactive bespoke-slide" data-slideid="ijoYpJSPQQLblMzMSckYOpVMqASJepju">
<div class="header" data-title="Web APIs: Returning Results"><h2>Web APIs: Returning Results</h2></div>
<div class="sectionbody">
<div class="listingblock small">
<div class="content">
<pre class="highlight"><code class="language-java spelling_exception lang-java" data-lang="java">// Get the current weather a particular location
static WeatherInfo getAtLocation(WeatherLocation location)</code></pre>
</div>
</div>
<div class="paragraph">
<p>In many cases web APIs return results using <em>JSON</em> (JavaScript Object Notation):</p>
</div>
<div class="listingblock small">
<div class="content">
<pre class="highlight"><code class="language-json spelling_exception lang-json" data-lang="json">{
  &quot;consolidated_weather&quot;: [
  {
    &quot;id&quot;: 6511056423747584,
      &quot;weather_state_name&quot;: &quot;Thunder&quot;,
      &quot;weather_state_abbr&quot;: &quot;t&quot;,
      &quot;wind_direction_compass&quot;: &quot;E&quot;,
      &quot;created&quot;: &quot;2018-04-09T02:37:19.655990Z&quot;,
      &quot;applicable_date&quot;: &quot;2018-04-08&quot;,
      &quot;min_temp&quot;: -2.6099999999999999,
      &quot;max_temp&quot;: 2.2149999999999999,
      &quot;the_temp&quot;: 2.4950000000000001,
      &quot;wind_speed&quot;: 2.8707529204565336,
      ...</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1 oneword logo bespoke-inactive bespoke-slide" data-slideid="ZsOQNCeyFRLfYMLCfmRDxwhgFYiBXBXm">
<div class="header" data-title="What&#x2019;s Awesome&#x2026;&#x200B;"><h2>What&#x2019;s Awesome&#x2026;&#x200B;</h2></div>
<div class="sectionbody">
<div class="paragraph">
<p>Is that there are
<a href="https://github.com/toddmotto/public-apis" target="_blank" class="external">a gazillion</a>
public APIs out there.
So go have fun!</p>
</div>
</div>
</div>
<div class="sect1 oneword logo bespoke-inactive bespoke-slide" data-slideid="JnbDWRLxHyezxdypdCAdLwXGseAepanB">
<div class="header" data-title="Questions about the Internet, Web, and Web APIs?"><h2>Questions about the Internet, Web, and Web APIs?</h2></div>
<div class="sectionbody">

</div>
</div>
<div class="sect1 oneword logo bespoke-inactive bespoke-slide" data-slideid="cfNxpyuNplVjZOGkrvUuWTtPHBfHbdhI">
<div class="header" data-title="Exceptions"><h2>Exceptions</h2></div>
<div class="sectionbody">
<div class="paragraph">
<p>Because things go wrong&#x2026;&#x200B;</p>
</div>
</div>
</div>
<div class="sect1 logo bespoke-inactive bespoke-slide" data-slideid="OzQfgiJWbHOderTtUClGAngECYmlpaNU">
<div class="header" data-title="Why Exceptions?"><h2>Why Exceptions?</h2></div>
<div class="sectionbody">
<div class="paragraph lead">
<p>What do you do when you can&#x2019;t go on?</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java spelling_exception lang-java" data-lang="java">class StringStorage {
  /**
   * Create a new object to store strings.
   *
   * @param storageSize the size of the StringStorage,
   *        must be positive
   */
  public StringStorage(final int storageSize) {
    if (storageSize &lt;= 0) {
      // what now?
    }
  }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1 logo bespoke-inactive bespoke-slide" data-slideid="wkaxBLzVUsfkoRJnKKGGsmhKRjfPqcfS">
<div class="header" data-title="Why Exceptions?"><h2>Why Exceptions?</h2></div>
<div class="sectionbody">
<div class="paragraph lead">
<p>What do you do when you can&#x2019;t go on?</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java spelling_exception lang-java" data-lang="java">/**
 * Read an integer from a passed string
 * and then do something with it.
 */
static int readInteger(final String intAsString) {
  int value = Integer.parseInt(intAsString);
  // But what if intAsString was &quot;foo&quot;?
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1 logo bespoke-inactive bespoke-slide" data-slideid="GnIneJYyrmknSwxawxFLrkfgLTkrkCvS">
<div class="header" data-title="try-catch"><h2><code>try-catch</code></h2></div>
<div class="sectionbody">
<div class="paragraph lead">
<p>Java&#x2019;s exception handling control structure is called a <code>try-catch</code> block:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java spelling_exception lang-java" data-lang="java">try {
  // Do something that could cause an exception
} catch (Exception e) {
  // Handle all exceptions that inherit from Exception
}
// Go on if things proceeded normally</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1 logo bespoke-inactive bespoke-slide" data-slideid="qvlOjZWdEtCQbonLgPsQfGssTFvZwvne">
<div class="header" data-title="catch Matching"><h2><code>catch</code> Matching</h2></div>
<div class="sectionbody">
<div class="paragraph lead">
<p>A <code>catch</code> block will match any exceptions that inherit from the one provided.
And they are tried in order.</p>
</div>
</div>
</div>
<div class="sect1 logo bespoke-inactive bespoke-slide" data-slideid="FCwSppBUbsdntJPLYVWUmKhTjmwczUgt">
<div class="header" data-title="try-catch with Multiple catch"><h2><code>try-catch</code> with Multiple <code>catch</code></h2></div>
<div class="sectionbody">
<div class="paragraph lead">
<p>Sometimes you want to handle errors differently depending on what caused them:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java spelling_exception lang-java" data-lang="java">try {
  // Do something that could cause an exception
} catch (NullPointerException e) {
  // Handle null pointer exceptions
} catch (ArrayIndexOutOfBoundsException e) {
  // Handle array out of bounds exceptions
}
// Go on if things proceeded normally</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1 logo bespoke-inactive bespoke-slide" data-slideid="qBUvchHqwhTYgXirWtbHjrdzfSozLyed">
<div class="header" data-title="try-catch with Multiple catch"><h2><code>try-catch</code> with Multiple <code>catch</code></h2></div>
<div class="sectionbody">
<div class="paragraph lead">
<p>You can also merge multiple exception types together like this:</p>
</div>
<div class="listingblock smaller">
<div class="content">
<pre class="highlight"><code class="language-java spelling_exception lang-java" data-lang="java">try {
  // Do something that could cause an exception
} catch (NullPointerException|IllegalArgumentException e) {
  // Handle null pointer and illegal argument exceptions
}
// Go on if things proceeded normally</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1 logo bespoke-inactive bespoke-slide" data-slideid="chdyOkkmYaXUaZhNnJDZSFXtlEZeXIKv">
<div class="header" data-title="try-catch in Python"><h2><code>try-catch</code> in Python</h2></div>
<div class="sectionbody">
<div class="paragraph lead">
<p>Many other languages have similar error handling constructs. In Python:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python spelling_exception lang-python" data-lang="python">try:
  // do something
except ValueError:
  // handle
except Another Error:
  // handle
else:
  // Run if no error is thrown. No analog in Java
finally:
  // Always run</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1 logo bespoke-inactive bespoke-slide" data-slideid="pLfyzBdmMcJIAnddNqNwBBxPFISVkkIz">
<div class="header" data-title="try-catch in JavaScript"><h2><code>try-catch</code> in JavaScript</h2></div>
<div class="sectionbody">
<div class="paragraph lead">
<p>Many other languages have similar error handling constructs. In JavaScript:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript spelling_exception lang-javascript" data-lang="javascript">try {
  // do something
} catch (err) {
  // handle the err
} finally {
  // Always run
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1 janini smaller nozoom bespoke-inactive bespoke-slide" data-slideid="kwZARxJnTlrBuFmKcUMufYbTUVEQzwNm">
<div data-title=" try-catch Example"></div>
<textarea class="janini spelling_exception">import java.util.Random;

static int throwRandomError() throws Exception {
  Random random = new Random();
  if (random.nextBoolean()) {
    Object it = null;
    return it.hashCode();
  } else {
    int[] array = new int[] {};
    return array[4];
  }
}

// Handle both errors thrown by the function above
throwRandomError();</textarea><!-- beautify ignore:start --><div class="output" data-blank="&gt; Click or hit Control-Enter to run the code above"><pre style="color: white;">&gt; Click or hit Control-Enter to run the code above</pre></div><!-- beautify ignore:end -->
</div>
<div class="sect1 logo bespoke-inactive bespoke-slide" data-slideid="jxVCByewgzqbjYjfWzfiuRCWBfuPrfYs">
<div class="header" data-title="Exceptional Control Flow"><h2>Exceptional Control Flow</h2></div>
<div class="sectionbody">
<div class="paragraph lead">
<p>When an error is thrown control flow <em>immediately</em> jumps to an
enclosing <code>catch</code> statement, if one exists.</p>
</div>
<div class="paragraph">
<p>The <code>catch</code> may be in the caller or multiple levels up.</p>
</div>
<div class="listingblock smallest">
<div class="content">
<pre class="highlight"><code class="language-java spelling_exception lang-java" data-lang="java">static void foo1() {
  Object it = null;
  int hash = it.hashCode();
}
static void foo2() {
  foo1();
}
static void foo3() {
  foo2();
}
static void foo4() {
  try {
    foo3();
  } catch (Exception e) {
  }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1 janini smaller nozoom bespoke-inactive bespoke-slide" data-slideid="YAUdXnxjOpdzBcNRJLgXVKzarNSWNagr">
<div data-title=" try-catch with Functions Example"></div>
<textarea class="janini spelling_exception">static void foo1() {
  Object it = null;
  int hash = it.hashCode();
}
static void foo2() {
  foo1();
}
static void foo3() {
  foo2();
}
static void foo4() {
  try {
    foo3();
  } catch (Exception e) {
  }
}
foo4();</textarea><!-- beautify ignore:start --><div class="output" data-blank="&gt; Click or hit Control-Enter to run the code above"><pre style="color: white;">&gt; Click or hit Control-Enter to run the code above</pre></div><!-- beautify ignore:end -->
</div>
<div class="sect1 logo bespoke-inactive bespoke-slide" data-slideid="YVOVNHgIXQcGbotRhnTLjlRxlloFSLng">
<div class="header" data-title="Types of Exceptions"><h2>Types of Exceptions</h2></div><div class="bullet"></div>
<div class="sectionbody">
<div class="paragraph lead">
<p>Java exceptions are broken into three distinct categories:</p>
</div>
<div class="ulist">
<ul>
<li class="bullet">
<p><strong>Checked exceptions</strong>: these are for places where you <em>know</em> something might go
wrong and it&#x2019;s out of your control</p>
</li>
<li class="bullet">
<p><strong>Unchecked exceptions</strong> (or runtime errors): these are unanticipated errors
usually caused by something dumb that you (the programmer) did wrong</p>
</li>
<li class="bullet">
<p><strong>Errors</strong>: these are reserved for serious system problems that are probably not
recoverable</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1 logo bespoke-inactive bespoke-slide" data-slideid="AglZaxPbaQdMAUyURkopiDaKCMrueDWb">
<div class="header" data-title="Checked Exceptions: Examples"><h2>Checked Exceptions: Examples</h2></div><div class="bullet"></div>
<div class="sectionbody">
<div class="paragraph lead">
<p>Checked exceptions are for cases where an failure <strong>external to your program</strong> can
cause an exception to occur</p>
</div>
<div class="ulist">
<ul>
<li class="bullet">
<p><a href="https://docs.oracle.com/javase/7/docs/api/java/io/FileNotFoundException.html" target="_blank" class="external"><code>FileNotFoundException</code></a>:
your program tried to open a file that you expected to exist but it did not</p>
</li>
<li class="bullet">
<p><a href="https://docs.oracle.com/javase/7/docs/api/java/net/URISyntaxException.html" target="_blank" class="external"><code>URISyntaxException</code></a>:
your program tried to parse a universal resource identifier (URI) but it was
invalid</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1 bespoke-inactive bespoke-slide" data-slideid="WCoZXcWMWrPzctmXYbUERwsqWmxbhsGH">
<div data-title=" Example Checked Exception"></div>
<div class="sectionbody">
<div class="embed-responsive embed-responsive-4by3">
  <div class="lazyiframe" data-attribs="%7B%22class%22:%22full%20embed-responsive-item%22,%22src%22:%22https://docs.oracle.com/javase/7/docs/api/java/net/URISyntaxException.html%22%7D"></div>
</div>
</div>
</div>
<div class="sect1 logo bespoke-inactive bespoke-slide" data-slideid="JvELdFMCwSnXRmghdAhhglEfbojSOHJI">
<div class="header" data-title="Checked Exceptions: Handling"><h2>Checked Exceptions: Handling</h2></div><div class="bullet"></div>
<div class="sectionbody">
<div class="paragraph lead">
<p>If you use a function that may generate a checked exception, you must either
wrap it in a <code>try-catch</code> block or declare that you may throw it.</p>
</div>
<div class="listingblock smaller bullet">
<div class="content">
<pre class="highlight"><code class="spelling_exception">static URI createURI(final String input) {
  // Example where we handle URISyntaxExceptions
  try {
    return new URI(input);
  } catch (URISyntaxException e) {
    System.out.println(input + &quot; is not a valid URI&quot;);
  }
}</code></pre>
</div>
</div>
<div class="listingblock smaller mt-2 bullet">
<div class="content">
<pre class="highlight"><code class="spelling_exception">// Example where we throw URISyntaxExceptions
static URI createURI(final String input) throws URISyntaxException {
  return new URI(input);
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1 janini smaller nozoom bespoke-inactive bespoke-slide" data-slideid="lTSokCKduCxcHhdvMeDXSCDpGcryAMul">
<div data-title=" Checked Exceptions: Handling Example"></div>
<textarea class="janini spelling_exception">import java.net.URI;
static URI createURI(final String input) {
  return new URI(input);
}
System.out.println(createURI(&quot;https://cs125.cs.illinois.edu/&quot;));</textarea><!-- beautify ignore:start --><div class="output" data-blank="&gt; Click or hit Control-Enter to run the code above"><pre style="color: white;">&gt; Click or hit Control-Enter to run the code above</pre></div><!-- beautify ignore:end -->
</div>
<div class="sect1 logo bespoke-inactive bespoke-slide" data-slideid="OfiMUvDfLqHrmsHHbwRRrxkkLLWCItZx">
<div class="header" data-title="Unchecked Exceptions"><h2>Unchecked Exceptions</h2></div><div class="bullet"></div>
<div class="sectionbody">
<div class="paragraph lead">
<p>Unchecked examples are usually the result of <em>programmer error</em>.</p>
</div>
<div class="paragraph">
<p>(They are fundamentally unanticipated, since if you had anticipated them you
would have fixed them.)</p>
</div>
<div class="paragraph">
<p>You&#x2019;ve probably made many of these mistakes by now&#x2026;&#x200B;</p>
</div>
<div class="ulist small">
<ul>
<li class="bullet">
<p><a href="https://docs.oracle.com/javase/7/docs/api/java/lang/ArrayIndexOutOfBoundsException.html" target="_blank" class="external"><code>ArrayIndexOutOfBoundsException</code></a>:
<span class="bullet">you walked off the end of an array</span></p>
</li>
<li class="bullet">
<p><a href="https://docs.oracle.com/javase/7/docs/api/java/lang/NullPointerException.html" target="_blank" class="external"><code>NullPointerException</code></a>:
<span class="bullet">you dereferenced a <code>null</code> reference</span></p>
</li>
<li class="bullet">
<p><a href="https://docs.oracle.com/javase/7/docs/api/java/lang/ClassCastException.html" target="_blank" class="external"><code>ClassCastException</code></a>:
<span class="bullet">you tried to cast something to a subclass of which it is not an instance</span></p>
</li>
<li class="bullet">
<p><a href="https://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html" target="_blank" class="external"><code>IllegalArgumentException</code></a>:
<span class="bullet">you passed incorrect arguments to a function or constructor</span></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1 janini smaller nozoom bespoke-inactive bespoke-slide" data-slideid="VMuWJTdntTpmuJdxJlPdqeenuKjuKEoo">
<div data-title=" Unchecked Exceptions: Examples"></div>
<textarea class="janini spelling_exception">import java.util.Arrays;

static void faulter() {
}
try {
  faulter();
} catch (ArrayIndexOutOfBoundsException e) {
  System.out.println(&quot;Whoops!&quot;);
} catch (NullPointerException e) {
  System.out.println(&quot;Oh, no!&quot;);
} catch (ClassCastException e) {
  System.out.println(&quot;That&apos;s too bad...&quot;);
} catch (IllegalArgumentException e) {
  System.out.println(&quot;Don&apos;t do that!&quot;);
}</textarea><!-- beautify ignore:start --><div class="output" data-blank="&gt; Click or hit Control-Enter to run the code above"><pre style="color: white;">&gt; Click or hit Control-Enter to run the code above</pre></div><!-- beautify ignore:end -->
</div>
<div class="sect1 logo bespoke-inactive bespoke-slide" data-slideid="KXOYoGDTpyttOUMGgFJomhMqvznzGXoE">
<div class="header" data-title="Unchecked Exceptions: Handling"><h2>Unchecked Exceptions: Handling</h2></div><div class="bullet"></div>
<div class="sectionbody">
<div class="paragraph lead">
<p>Unlike checked exceptions, you do not need to declare or handle unchecked
exceptions.</p>
</div>
<div class="paragraph">
<p>However, you <em>can</em> handle them:</p>
</div>
<div class="listingblock smaller bullet">
<div class="content">
<pre class="highlight"><code class="language-java spelling_exception lang-java" data-lang="java">try {
  String s = callMyPartnersDodgyCode();
  if (s.length() == 0) {
    return;
  }
} catch (NullPointerException e) {
  return;
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1 logo bespoke-inactive bespoke-slide" data-slideid="kQbOfdZFwWMQsOQmhbBQogCUGHympVWJ">
<div class="header" data-title="Errors: Examples"><h2>Errors: Examples</h2></div><div class="bullet"></div>
<div class="sectionbody">
<div class="paragraph lead">
<p>Java errors indicate serious conditions that are usually not recoverable:</p>
</div>
<div class="ulist">
<ul>
<li class="bullet">
<p><a href="https://docs.oracle.com/javase/7/docs/api/java/lang/OutOfMemoryError.html" target="_blank" class="external"><code>OutOfMemoryError</code></a>:
Java ran out of memory and is going to crash</p>
</li>
<li class="bullet">
<p><a href="https://docs.oracle.com/javase/7/docs/api/java/lang/StackOverflowError.html" target="_blank" class="external"><code>StackOverflowError</code></a>:
You recursed too deeply and Java is going to crash</p>
</li>
<li class="bullet">
<p>Note that sometimes <em>these are still your fault</em>: you used too much memory or
forgot your base case</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1 logo bespoke-inactive bespoke-slide" data-slideid="ajpSqxeufhVlXQkgrigFcjuJqXwzCANS">
<div class="header" data-title="Exception Handling Strategies"><h2>Exception Handling Strategies</h2></div><div class="bullet"></div>
<div class="sectionbody">
<div class="paragraph lead">
<p>Here are reasonable strategies for handling each kind of exception:</p>
</div>
<div class="ulist">
<ul>
<li class="bullet">
<p><strong>Errors</strong>: <em>don&#x2019;t</em> try to handle these, just go bye-bye</p>
</li>
<li class="bullet">
<p><strong>Unchecked exceptions</strong>: try to <em>avoid</em> these by improving your code</p>
</li>
<li class="bullet">
<p><strong>Checked exceptions</strong>: try to handle these and have your program
continue running, or exit gracefully&#x2026;&#x200B;</p>
</li>
<li class="bullet">
<p>but don&#x2019;t go on unless you can.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1 logo bespoke-inactive bespoke-slide" data-slideid="RoxnUIFqZCBrBZnusOrpzbLuksmJMpdG">
<div class="header" data-title="Working with Exceptions"><h2>Working with Exceptions</h2></div><div class="bullet"></div>
<div class="sectionbody">
<div class="paragraph lead">
<p>Java exceptions are just another kind of Java object&#x2014;and they have some
useful features, particularly when debugging:</p>
</div>
<div class="ulist">
<ul>
<li class="bullet">
<p><code>toString</code>: like every other Java <code>Object</code>, exceptions can be printed</p>
</li>
<li class="bullet">
<p><code>getMessage</code>: retrieves just the message associated with this exception</p>
</li>
<li class="bullet">
<p><code>printStackTrace</code>: print a <em>stack trace</em> for the error showing what caused it
and what other functions were involved</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1 bespoke-inactive bespoke-slide" data-slideid="wIAiKctczCEQFknYPSiRbruXLqBIGBMy">
<div data-title="Throwable Documentation"></div>
<div class="sectionbody">
<div class="embed-responsive embed-responsive-4by3">
  <div class="lazyiframe" data-attribs="%7B%22class%22:%22full%20embed-responsive-item%22,%22src%22:%22https://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html%22%7D"></div>
</div>
</div>
</div>
<div class="sect1 janini smaller nozoom bespoke-inactive bespoke-slide" data-slideid="zzlPSnhuaDjSgoGIAkpIjUQZeiuerNQe">
<div data-title="Working with Exceptions Examples"></div>
<textarea class="janini spelling_exception">static void foo1() {
  Object it = null;
  int hash = it.hashCode();
}
static void foo2() {
  foo1();
}
static void foo3() {
  foo2();
}
static void foo4() {
  try {
    foo3();
  } catch (Exception e) {
  }
}
foo4();</textarea><!-- beautify ignore:start --><div class="output" data-blank="&gt; Click or hit Control-Enter to run the code above"><pre style="color: white;">&gt; Click or hit Control-Enter to run the code above</pre></div><!-- beautify ignore:end -->
</div>
<div class="sect1 logo bespoke-inactive bespoke-slide" data-slideid="CTsKSqiFCfFyikLMwtUmDbmSXijFayAL">
<div class="header" data-title="Rethrowing Exceptions"><h2>Rethrowing Exceptions</h2></div>
<div class="sectionbody">
<div class="paragraph lead">
<p>Sometimes you may want to just record what happened but not know what to do with
an error.</p>
</div>
<div class="paragraph">
<p>In that case you may want to rethrow it out of the catch block:</p>
</div>
<div class="listingblock smaller">
<div class="content">
<pre class="highlight"><code class="spelling_exception">static URI createURI(final String input) {
  // Example where we handle URISyntaxExceptions
  try {
    return new URI(input);
  } catch (URISyntaxException e) {
    // Log that something went wrong
    Log.e(TAG, input + &quot; is not a valid URI&quot;);
    // Rethrow the exception
    throw(e);
  }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1 logo bespoke-inactive bespoke-slide" data-slideid="diIiwLksuhFzuaiuxOuRIZnfIpgBPFnP">
<div class="header" data-title="Throwing Your Own Exceptions"><h2>Throwing Your Own Exceptions</h2></div>
<div class="sectionbody">
<div class="paragraph lead">
<p>So how do we handle a case like this?</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java spelling_exception lang-java" data-lang="java">class StringStorage {
  /**
   * Create a new object to store strings.
   *
   * @param storageSize the size of the StringStorage,
   *        must be positive
   */
  public StringStorage(final int storageSize) {
    if (storageSize &lt;= 0) {
      // what now?
    }
  }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1 janini smaller compiler nozoom bespoke-inactive bespoke-slide" data-slideid="tZEORkretvixoGRTiPQxDkXOhkrgdAUE">
<div data-title=" Throwing Your Own Exceptions"></div>
<textarea class="janini spelling_exception">public class StringStorage {
  /**
   * Create a new object to store strings.
   *
   * @param storageSize the size of the StringStorage,
   *        must be positive
   */
  public StringStorage(final int storageSize) {
    if (storageSize &lt;= 0) {
      // what now?
    }
  }
}
public class Example {
  public static void main(final String[] unused) {
    StringStorage stringStorage = new StringStorage(-1);
  }
}</textarea><!-- beautify ignore:start --><div class="output" data-blank="&gt; Click or hit Control-Enter to run Example.main above"><pre style="color: white;">&gt; Click or hit Control-Enter to run Example.main above</pre></div><!-- beautify ignore:end -->
</div>
<div class="sect1 logo bespoke-inactive bespoke-slide" data-slideid="TyzTkvyjvmKDPkZwmxwufvXMjajIlrHV">
<div class="header" data-title="throw"><h2><code>throw</code></h2></div>
<div class="sectionbody">
<div class="paragraph lead">
<p>To throw an exception in Java we use the <code>throw</code> keyword:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java spelling_exception lang-java" data-lang="java">Exception e = new Exception(&quot;you did something awful&quot;);
throw(e);</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1 logo bespoke-inactive bespoke-slide" data-slideid="qoTmuDmRuBRgiUxPONZaOVhCRmlElcLw">
<div class="header" data-title="throw Well"><h2><code>throw</code> Well</h2></div><div class="bullet"></div>
<div class="sectionbody">
<div class="paragraph lead">
<p>If you need to throw an exception:</p>
</div>
<div class="ulist">
<ul>
<li class="bullet">
<p>Look for an existing <code>Exception</code> class that&#x2019;s a good fit</p>
</li>
<li class="bullet">
<p>Or, create your own:</p>
</li>
</ul>
</div>
<div class="listingblock smaller bullet">
<div class="content">
<pre class="highlight"><code class="language-java spelling_exception lang-java" data-lang="java">public class MyException extends Exception {
}
throw(new MyException(&quot;bad bad&quot;));</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1 logo bespoke-inactive bespoke-slide" data-slideid="SRZEFPcrGpKfBdzGREcjDZALhTbKaIsC">
<div class="header" data-title="finally"><h2><code>finally</code></h2></div>
<div class="sectionbody">
<div class="paragraph lead">
<p>Java&#x2019;s <code>try-catch</code> also supports a <code>finally</code> block. It is <em>always</em> executed after
<em>either</em> the <code>try</code> or the <code>catch</code> completes:</p>
</div>
<div class="listingblock smaller">
<div class="content">
<pre class="highlight"><code class="language-java spelling_exception lang-java" data-lang="java">try {
  System.out.println(&quot;start&quot;);
  couldError();
  System.out.println(&quot;done&quot;);
} catch (Exception e) {
  System.out.println(&quot;catch&quot;);
} finally {
  System.out.println(&quot;finally&quot;);
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1 janini smaller nozoom bespoke-inactive bespoke-slide" data-slideid="mhmYjmPPucLHcPEFfhzCtQfFbnqfuYjZ">
<div data-title=" finally Example"></div>
<textarea class="janini spelling_exception">import java.util.Random;

static void couldError() {
  Random random = new Random();
  if (random.nextBoolean()) {
    Object it = null;
    it.hashCode();
  }
}

try {
  System.out.println(&quot;start&quot;);
  couldError();
  System.out.println(&quot;done&quot;);
} catch (Exception e) {
  System.out.println(&quot;catch&quot;);
} finally {
  System.out.println(&quot;finally&quot;);
}</textarea><!-- beautify ignore:start --><div class="output" data-blank="&gt; Click or hit Control-Enter to run the code above"><pre style="color: white;">&gt; Click or hit Control-Enter to run the code above</pre></div><!-- beautify ignore:end -->
</div>
<div class="sect1 logo bespoke-inactive bespoke-slide" data-slideid="eZOQBRhCvuQhjkIrABjfwolqygMADAfE">
<div class="header" data-title="Intelligent try Usage"><h2>Intelligent <code>try</code> Usage</h2></div>
<div class="sectionbody">
<div class="paragraph lead">
<p>You can make intelligent use of <code>try-catch</code> blocks to avoid repetitive sanity
checking:</p>
</div>
<div class="listingblock smaller">
<div class="content">
<pre class="highlight"><code class="language-java spelling_exception lang-java" data-lang="java">JsonParser parser = new JsonParser();
JsonObject info = parser.parse(json).getAsJsonObject();
if (!info.has(&quot;metadata&quot;)) {
  return 0;
}
JsonObject metadata = info.getAsJsonObject(&quot;metadata&quot;);
if (!metadata.has(&quot;width&quot;)) {
  return 0;
}
JsonElement width = metadata.getAsJsonElement(&quot;width&quot;);
return width.getAsInt();</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1 logo bespoke-inactive bespoke-slide" data-slideid="PTcgGbrBNJAzQGjhIpXKlPnMXeUoxUmP">
<div class="header" data-title="Intelligent try Usage"><h2>Intelligent <code>try</code> Usage</h2></div>
<div class="sectionbody">
<div class="paragraph lead">
<p>You can make intelligent use of <code>try-catch</code> blocks to avoid repetitive sanity
checking:</p>
</div>
<div class="paragraph">
<p>(This is particularly nice when you can chain calls together.)</p>
</div>
<div class="listingblock smaller">
<div class="content">
<pre class="highlight"><code class="language-java spelling_exception lang-java" data-lang="java">try {
  JsonParser parser = new JsonParser();
  return parser.parse(json)
    .getAsJsonObject()
    .getAsJsonObject(&quot;metadata&quot;)
    .get(&quot;width&quot;)
    .getAsInt();
} catch (Exception e) {
  return 0;
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1 oneword logo bespoke-inactive bespoke-slide" data-slideid="wPTGIacnajnLigKsnSOrFdDtdgnMXQbn">
<div class="header" data-title="Questions About Exceptions?"><h2>Questions About Exceptions?</h2></div>
<div class="sectionbody">

</div>
</div>
<div class="sect1 logo bespoke-inactive bespoke-slide" data-slideid="oApTeMfnuZvIlKHitawrVCWwZsdsdjoD">
<div class="header" data-title="Announcements"><h2>Announcements</h2></div>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>The <a href="/MP/5/">final project description</a> has been posted. Please get
started!
Remember that you have a UI checkpoint <em>next week</em> in lab.</p>
</li>
</ul>
</div>
</div>
</div>
    </article>
  </div>
	<div class="modal fade" id="helpModal" tabindex="-1" role="dialog" aria-labelledby="helpModalLabel" aria-hidden="true">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="helpModalLabel">Keyboard Shortcuts</h5>
				</div>
				<div class="modal-body">
          <p>Here is a list of potentially helpful keyboard shortcuts:</p>
          <ul class="list-unstyled">
            <li>
              <span class="key">
                <i class="fa fa-caret-right"></i>
              </span>: go forward to the next slide
            </li>
            <li>
              <span class="key">
                <i class="fa fa-caret-left"></i>
              </span>: go back to the previous slide
            </li>
            <li>
              <kbd class="overviewToggle">o</kbd>: open (and close) the slide overview
            </li>
            <li>
              <kbd class="menuToggle">m</kbd>: open (and close) the top menu
            </li>
            <li>
              <kbd class="helpToggle">h</kbd>: open (and close) this help menu
            </li>
          </ul>
				</div>
			</div>
		</div>
	</div>
  <script src="https://apis.google.com/js/api:client.js"></script>
  <script src="/static-assets/slider.c07795f2b4f26152e912.js"></script>
  <script>
    $("a[href^='http://'], a[href^='https://'], a[href^='//']").each(function (i, elem) {
      $(elem).click(function (event) {
        event.preventDefault()
        const url = $(elem).attr('href')
        ga('send', 'event', 'outbound', 'click', url, {
          'transport': 'beacon',
          'hitCallback': () => {
            if ($(elem).hasClass('external')) {
              window.open(url, '_blank')
            } else {
              document.location = url
            }
          }
        })
      })
    })
  </script>


</body></html>