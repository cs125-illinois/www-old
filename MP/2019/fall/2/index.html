<!DOCTYPE html><html lang="en"><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

		<title>MP2: Web APIs</title>
		<meta name="description" lang="en-us" content="The MP2 checkpoint starts connecting your app to our web service and continues building its UI.">
    <meta name="google-site-verification" content="y_Y-3Qy2OkNZGt3FSNhmY31PkAtFbaTGrDKrSZffbvE">

      <link rel="stylesheet" href="/static-assets/site.ce01e59baf542a8794f1.css">

      <script src="/static-assets/site.ce01e59baf542a8794f1.js" async></script>

		<link rel="icon" type="image/png" sizes="228x228" href="/img/favicon/coast-228x228.png">
		<link rel="yandex-tableau-widget" href="/img/favicon/yandex-browser-manifest.json">
		<link rel="apple-touch-icon" sizes="57x57" href="/img/favicon/apple-touch-icon-57x57.png">
		<link rel="apple-touch-icon" sizes="60x60" href="/img/favicon/apple-touch-icon-60x60.png">
		<link rel="apple-touch-icon" sizes="72x72" href="/img/favicon/apple-touch-icon-72x72.png">
		<link rel="apple-touch-icon" sizes="76x76" href="/img/favicon/apple-touch-icon-76x76.png">
		<link rel="apple-touch-icon" sizes="114x114" href="/img/favicon/apple-touch-icon-114x114.png">
		<link rel="apple-touch-icon" sizes="120x120" href="/img/favicon/apple-touch-icon-120x120.png">
		<link rel="apple-touch-icon" sizes="144x144" href="/img/favicon/apple-touch-icon-144x144.png">
		<link rel="apple-touch-icon" sizes="152x152" href="/img/favicon/apple-touch-icon-152x152.png">
		<link rel="apple-touch-icon" sizes="180x180" href="/img/favicon/apple-touch-icon-180x180.png">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
		<meta name="apple-mobile-web-app-title" content="CS 125">
		<link rel="icon" type="image/png" sizes="32x32" href="/img/favicon/favicon-32x32.png">
		<link rel="icon" type="image/png" sizes="16x16" href="/img/favicon/favicon-16x16.png">
		<link rel="shortcut icon" href="/img/favicon/favicon.ico">
		<link rel="manifest" href="/img/favicon/manifest.json">
		<meta name="mobile-web-app-capable" content="yes">
		<meta name="theme-color" content="#fff">
		<meta name="application-name" content="CS 125">
		<meta name="msapplication-TileColor" content="#fff">
		<meta name="msapplication-TileImage" content="/img/favicon/mstile-144x144.png">
		<meta name="msapplication-config" content="/img/favicon/browserconfig.xml">
		
    <script src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.0.3/cookieconsent.min.js" defer></script>

    <script>
      window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
      ga('create', 'UA-45109275-2', 'auto');
      ga('send', 'pageview');
    </script>
    <script async src="https://www.google-analytics.com/analytics.js"></script>
    <script>
      if (window.location.hostname === 'localhost') {
        window['ga-disable-UA-45109275-2'] = true
      }
    </script>
  </head>

  <body data-spy="scroll" data-target="#toc">
    <div id="navbarTop" class="fixed-top">
      <nav class="navbar navbar-expand navbar-light bg-white pb-2 flex-column flex-md-row">
        <a class="navbar-brand" href="/">
          <img src="/img/logos/cs125-wide-157x60.png" width="157" height="60" data-pagespeed-no-transform="true" class="d-none d-lg-inline-block align-top" alt="CS 125: Introduction to Computer Science">
          <img src="/img/logos/cs125-60x60.png" width="46" height="46" data-pagespeed-no-transform="true" class="d-inline-block d-lg-none align-top" alt="CS 125: Introduction to Computer Science">
        </a>
        <button id="sidebar-button" type="button" data-toggle="collapse" data-target="#sidebar" aria-controls="sidebar" aria-expanded="false" aria-label="Toggle navigation" class="d-block d-md-none" style="position: fixed; top: 20px; right: 20px;">
          <span class="navbar-toggler-icon"></span>
        </button>
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link" href="/info/syllabus/">Info</a>
          </li>
          <li class="nav-item">
            <a class="nav-link noexternal" href="https://cs125-forum.cs.illinois.edu">Forum</a>
          </li>
          <li class="nav-item">
            <a class="nav-link noexternal" href="https://cs125-help.cs.illinois.edu">Help</a>
          </li>
          <!--
          <li class="nav-item">
            <a class="nav-link"
               href="/info/fair/"
               data-active="^info/fair"><strong>Fair</strong></a>
          </li>
          <li class="nav-item">
            <a class="nav-link"
               href="/info/join/"
               data-active="^(?!info/join)info">Join</a>
          </li>
          -->
          <li class="nav-item">
            <a class="nav-link" href="/learn/">Learn</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/info/people/">People</a>
          </li>
          <li class="nav-item">
            <a class="nav-link active" data-redirect="/MP" href="/MP/5/">MPs<span class="sr-only">(current)</span></a>
          </li>
          <li class="nav-item">
            <a class="nav-link" data-redirect="/lab" href="/lab/14/">Labs</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/m/grades/">Grades</a>
          </li>
        </ul>
        <ul class="navbar-nav ml-auto mr-2">
          <li id="login" class="d-flex mr-2 mr-xl-3"></li>
          <li class="d-none d-md-flex nav-item mr-2 mr-xl-3">
            <a href="//www.youtube.com/channel/UC8L44j0A6LAlC4FM8IiNx-w/videos" target="_blank" class="noexternal"><i class="fa fa-youtube-play fa-2x navbar-icon" aria-hidden="true"></i></a>
          </li>
          <li class="d-none d-md-flex nav-item">
            <a href="//github.com/cs125-illinois" target="_blank" class="noexternal"><i class="fa fa-github fa-2x navbar-icon" aria-hidden="true"></i></a>
          </li>
        </ul>
      </nav>
      <div class="fadeout"></div>
    </div>
    
    <!--
      vim: et:ts=2:sw=2:ft=html
    -->

<!--
  vim: et:ts=2:sw=2:ft=html
-->

<div id="content" class="container-fluid">
  <div class="row flex-xl-nowrap">
    <div class="col-12 col-md-3 col-xl-2 sidebar">
      <div id="sidebar" class="collapse">
        <nav class="nav flex-column">
          <ul class="section-nav">
            <li class="entry">
              <strong>Fall 2019</strong>
            </li>
            <li>
              <a href="/MP/2019/fall/5/">MP5</a>
            </li>
            <li>
              <a href="/MP/2019/fall/4/">MP4</a>
            </li>
            <li>
              <a href="/MP/2019/fall/3/">MP3</a>
            </li>
            <li>
              <a href="/MP/2019/fall/2/" class="active" onclick="return false;">MP2<span class="sr-only">(current)</span></a>
            </li>
            <li>
              <a href="/MP/2019/fall/1/">MP1</a>
            </li>
            <li>
              <a href="/MP/2019/fall/0/">MP0</a>
            </li>
            <li>
              <span data-active="^MP/2019/fall/setup" class="option">Setup</span>
              <ul>
                <li>
                  <a href="/MP/2019/fall/setup/android-studio/">Android Studio</a>
                </li>
                <li>
                  <a href="/MP/2019/fall/setup/git/">Git</a>
                </li>
              </ul>
            </li>
            <li>
              <strong><a href="/MP/">Return to Current MPs</a></strong>
            </li>
          </ul>
          
          <!--
            vim: et:ts=2:sw=2:ft=html
          -->
        </nav>
        <div class="fadeout"></div>
      </div>
    </div>
    <div class="col-md-3 col-xl-2" style="z-index: -1;"></div>

    <div class="col-xl-3 d-none d-xl-block toc">
      <nav id="toc" class="nav flex-column">
        <ul class="section-nav">
          <li class="entry">
            <a class="nav-link" href="#top">1. Learning Objectives</a>
          </li>
          <li class="entry">
            <a class="nav-link" href="#_assignment_structure">2. Assignment Structure</a>
            <ul>
              <li><a class="nav-link" href="#_obtaining_mp2">2.1. Obtaining MP2</a></li>
              <li><a class="nav-link" href="#_late_mp1_submissions">2.2. Late MP1 Submissions</a></li>
            </ul>
          </li>
          <li class="entry">
            <a class="nav-link" href="#_android">3. Android</a>
            <ul>
              <li><a class="nav-link" href="#_getting_results_from_activities">3.1. Getting Results from Activities</a></li>
              <li><a class="nav-link" href="#_inflating_layouts">3.2. Inflating Layouts</a></li>
              <li><a class="nav-link" href="#_variable_length_ui">3.3. Variable-Length UI</a></li>
              <li><a class="nav-link" href="#_accessing_resources">3.4. Accessing Resources</a></li>
            </ul>
          </li>
          <li class="entry">
            <a class="nav-link" href="#_web_api">4. Web API</a>
            <ul>
              <li><a class="nav-link" href="#json">4.1. What is JSON?</a></li>
              <li><a class="nav-link" href="#_using_gson">4.2. Using Gson</a></li>
              <li><a class="nav-link" href="#_making_web_requests">4.3. Making Web Requests</a></li>
              <li><a class="nav-link" href="#_our_api_documentation">4.4. Our API Documentation</a></li>
            </ul>
          </li>
          <li class="entry">
            <a class="nav-link" href="#_your_goal">5. Your Goal</a>
            <ul>
              <li><a class="nav-link" href="#_login_activity">5.1. Login Activity</a></li>
              <li><a class="nav-link" href="#_games_lists">5.2. Games Lists</a></li>
              <li><a class="nav-link" href="#_invitationgame_buttons">5.3. Invitation/Game Buttons</a></li>
            </ul>
          </li>
          <li class="entry">
            <a class="nav-link" href="#_grading">6. Grading</a>
            <ul>
              <li><a class="nav-link" href="#_test_cases">6.1. Test Cases</a></li>
              <li><a class="nav-link" href="#_style_points">6.2. Style Points</a></li>
              <li><a class="nav-link" href="#_submitting_your_work">6.3. Submitting Your Work</a></li>
            </ul>
          </li>
          <li class="entry">
            <a class="nav-link" href="#_cliffhanger">7. Cliffhanger</a>
          </li>
          <li class="entry">
            <a class="nav-link" href="#_cheating">8. Cheating</a>
          </li>
        </ul>
      </nav>
    </div>

    <main class="col-12 col-md-9 col-xl-7 py-3">

      <div id="outdated" class="alert alert-danger" role="alert">
        <h4 class="alert-heading">Warning: Outdated Content</h4>
        <p>This MP is from a previous version of CS 125.
          <a href="/mp/">Click here</a> to access the latest
          version.
        </p>
      </div>

      <a class="anchor" id="top"></a>
        <h1>MP2: Web APIs</h1>
      <div class="paragraph lead">
<p>In <a href="/MP/2019/fall/0">MP0</a> and <a href="/MP/2019/fall/1">MP1</a>, you implemented both game modes for a singleplayer version
of the Campus Snake 125 game. This checkpoint starts making the app multiplayer by connecting it
to an authentication service and our central game server.</p>
</div>
<div class="paragraph">
<p>To make the multiplayer game work, users will need to be able to identify themselves to the app
and to a central server that relays information between users. Displaying data from the server
first requires fetching it. Services designed to make information accessible to other machines,
like our central server, expose a <em>web API</em> that programs can contact in a structured manner to
receive structured information.</p>
</div>
<div class="paragraph">
<p>Now that you know how to create and use objects, you can take advantage of an incredible
number of existing pieces of software, often referred to as <em>libraries</em>),
to easily add features to your program.
This checkpoint uses Google&#x2019;s <a href="https://firebase.google.com/docs/auth" target="_blank" class="external">Firebase Authentication</a>,
<a href="https://sites.google.com/site/gson/gson-user-guide" target="_blank" class="external">Gson</a>,
and (indirectly) <a href="https://developer.android.com/training/volley/index.html" target="_blank" class="external">Volley</a> libraries
to let the user log in and respond to game invitations.</p>
</div>
<div class="paragraph">
<p>As usual, <strong>deadlines for each checkpoint vary by your deadline group</strong>.
MP2 is due at:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>8 PM on Sunday 10/20/2019 for the Blue Group</strong>: all labs starting at 2 PM or earlier</p>
</li>
<li>
<p><strong>8 PM on Monday 10/21/2019 for the Orange Group</strong>: all labs starting at 3 PM or later</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Since MP2 is another multi-week checkpoint, 10% of your grade on it is for submitting code that
earns at least <em>40 points</em> by <strong>Sunday 10/13/2019 (Blue)</strong> or <strong>Monday 10/14/2019 (Orange)</strong>.
Late submissions will be subject to the
<a href="/info/2019/fall/syllabus#regrading">MP late submission policy</a>.</p>
</div>
<div class="sect1">
<a class="anchor" id="_learning_objectives"></a><h2>1. Learning Objectives</h2>
<div class="sectionbody">
<div class="paragraph">
<p>MP2 introduces two major skills that will be extremely useful for your final project
and in software development in general. You will:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Integrate existing libraries into your application to provide functionality to your users
without needing to implement all those features yourself</p>
</li>
<li>
<p>Access data from a web service according to a web API specification</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>We&#x2019;ll keep making use of your imperative programming, object-oriented programming,
and Android UI skills exercised in previous checkpoints.</p>
</div>
</div>
</div>
<div class="sect1">
<a class="anchor" id="_assignment_structure"></a><h2>2. Assignment Structure</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You already have the one MP repository you&#x2019;ll be working on and are familiar with the
relevant parts of the folder structure. You just need the test suite for Checkpoint 2.</p>
</div>
<div class="sect2">
<a class="anchor" id="_obtaining_mp2"></a><h3>2.1. Obtaining MP2</h3>
<div class="paragraph">
<p>Like <a href="/MP/2019/fall/1/#mp1">for MP1</a>, we distribute the new MP2 files in a <em>patch</em>.
To apply it and begin working on the checkpoint, follow these steps:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Commit your work just in case you run into any problems applying the patch.</p>
</li>
<li>
<p>Download <a href="/MP/2019/fall/patches/MP2.patch">the patch file</a>.</p>
</li>
<li>
<p>In Android Studio, do <em>VCS | Apply Patch</em>.</p>
</li>
<li>
<p>Select the downloaded patch file and press OK to apply it.</p>
</li>
<li>
<p>Change the <code>checkpoint</code> setting in <code>grade.yaml</code> to <code>2</code>.</p>
</li>
<li>
<p>Do <em>File | Sync Project with Gradle Files</em>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The Grade task should then grade Checkpoint 2.
A new run configuration called Test Checkpoint 2 will run the Checkpoint 2 test suite.
If you run into a problem obtaining MP2, please get help immediately.</p>
</div>
</div>
<div class="sect2">
<a class="anchor" id="_late_mp1_submissions"></a><h3>2.2. Late MP1 Submissions</h3>
<div class="paragraph">
<p>If you didn&#x2019;t finish MP1 or even MP0, you can still do MP2.
Setting <code>useProvided</code> in <code>grade.yaml</code> to <code>true</code> will make the app use our
<code>AreaDivider</code> class, <code>GameActivity</code> logic, and singleplayer game setup UI
<span class="badge badge-illinois-orange" data-toggle="popover" data-placement="top" data-html="true" data-content="&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;but not game setup intent, for reasons of compatibility with future checkpoints&lt;/body&gt;&lt;/html&gt;">1</span>.
Our provided logic cannot suppress <code>MainActivity</code>&apos;s original behavior of immediately
launching <code>GameActivity</code>, but if you remove the original <code>startActivity</code> and <code>finish</code> calls
our provided version will add the Create Game button as needed.
Other than that, MP2 can be graded completely independently from MP0 and MP1.</p>
</div>
<div class="paragraph">
<p>If you want to finish up MP1 before starting MP2, consider holding off on applying the MP2
patch because the new test suite will not be able to compile until an activity introduced in
MP2 is added to the project.</p>
</div>
<div class="paragraph">
<p>If you want to go back later and work on a late submission of a previous checkpoint,
you can change the <code>checkpoint</code> setting back to the number of the checkpoint you would like to
have graded.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<a class="anchor" id="_android"></a><h2>3. Android</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You already know a lot about Android activities and UI from previous checkpoints.
Here we introduce some extensions to that knowledge that will allow you even more
flexibility in building apps.</p>
</div>
<div class="sect2">
<a class="anchor" id="_getting_results_from_activities"></a><h3>3.1. Getting Results from Activities</h3>
<div class="paragraph">
<p>You previously launched other activities by passing an <code>Intent</code> to the <code>startActivity</code> function.
Sometimes the activity you launched needs to return the user to your activity once some data
has been produced. For example, when you go to attach a picture to a text message, your phone
takes you to a camera or gallery screen; once you take or select a picture, you&#x2019;re taken back
to the texting screen which received the chosen picture.</p>
</div>
<div class="paragraph">
<p>To start an activity that you need to get a result from, use the <code>startActivityForResult</code>
function. It takes the intent specifying the activity to launch and a numeric <em>request code</em>
of your choice that is useful in case your activity issues multiple different requests.
For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java spelling_exception lang-java" data-lang="java">// Suppose intent is an Intent variable and MY_REQUEST_CODE is an int constant
startActivityForResult(intent, MY_REQUEST_CODE);</code></pre>
</div>
</div>
<div class="paragraph">
<p>When the activity finishes and produces its result, the Android system calls the original activity&#x2019;s
<code>onActivityResult</code> function to deliver the result. To act on that notification, you need to
override <code>onActivityResult</code> (similar to how all activities override <code>onCreate</code> to do something
when they are created):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java spelling_exception lang-java" data-lang="java">/**
 * Invoked by the Android system when a request launched by startActivityForResult completes.
 * @param requestCode the request code passed by to startActivityForResult
 * @param resultCode a value indicating how the request finished (e.g. completed or canceled)
 * @param data an Intent containing results (e.g. as a URI or in extras)
 */
@Override
protected void onActivityResult(final int requestCode, final int resultCode, final Intent data) {
    super.onActivityResult(requestCode, resultCode, data);
    if (requestCode == MY_REQUEST_CODE) {
        // Do something that depends on the result of that request
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<a class="anchor" id="_inflating_layouts"></a><h3>3.2. Inflating Layouts</h3>
<div class="paragraph">
<p>You previously used the UI designer to add UI to activity layouts.
It is also possible for layout resources to contain smaller, <em>repeatable</em> pieces of UI rather than
entire screens&apos; worth. For example, the email app on your phone has a chunk of UI
repeated for each email in your inbox, containing text views for the sender, subject, send time,
and possibly more. Like how functions allow us to break up our programs into manageable,
reusable pieces, layouts allow organization and reuse of user interface elements.</p>
</div>
<div class="paragraph">
<p>To create a layout file without an associated activity, right-click the <code>layout</code> folder under
<code>res</code> and select <em>New | Layout Resource File</em>. Our convention for small layout &quot;chunk&quot; resources
is that their names begin with <code>chunk_</code>. Once you&#x2019;ve created the resources, you can use the
UI designer to add views to it just like before.</p>
</div>
<div class="paragraph">
<p>Before your code can use the layout chunk, it must be <em>inflated</em>.
That turns the layout resource, specified by its <code>R.layout</code> constant,
into a hierarchy of views that can be manipulated as usual.
Much like setting an ID for a view produces a constant on <code>R.id</code> named the same as the ID,
creating a layout resource produces a constant on <code>R.layout</code> named the same as the file.
For the chunk to be laid out properly, its future parent view&#x2014;the container that it will
be added into&#x2014;should be specified.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java spelling_exception lang-java" data-lang="java">// Suppose parent is some kind of container that will hold this chunk
View messageChunk = getLayoutInflater().inflate(R.layout.chunk_email, parent, false);
// If the last parameter was true, inflate would return parent</code></pre>
</div>
</div>
<div class="paragraph">
<p>The return value of <code>inflate</code> is a <code>View</code> that represents the chunk as a group of views.
To get a reference to a specific view inside that copy/instance of the chunk, call the <code>findViewById</code>
instance method like before but on the chunk&#x2019;s <code>View</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java spelling_exception lang-java" data-lang="java">TextView senderLabel = messageChunk.findViewById(R.id.sender);
// Do something with senderLabel...</code></pre>
</div>
</div>
</div>
<div class="sect2">
<a class="anchor" id="_variable_length_ui"></a><h3>3.3. Variable-Length UI</h3>
<div class="paragraph">
<p>However, inflating a layout chunk does not add it to the current activity&#x2019;s UI
<span class="badge badge-illinois-orange" data-toggle="popover" data-placement="top" data-html="true" data-content="&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;unless &lt;code&gt;true&lt;/code&gt; is passed as &lt;code&gt;attachToRoot&lt;/code&gt;, but again, that causes &lt;code&gt;inflate&lt;/code&gt; to return the parent view, which makes it difficult to get the newly inflated chunk&lt;/body&gt;&lt;/html&gt;">2</span>.
Usually repeatable chunks of layout will be used to display a variably sized list of things
in a container. Once you have a reference to a container like a <code>LinearLayout</code>,
you can add a chunk to it with <code>addView</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java spelling_exception lang-java" data-lang="java">// Suppose parent is the container specified as the parent for messageChunk
parent.addView(messageChunk);</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you want to remove all the entries in a container, you can call its <code>removeAllViews</code> function.</p>
</div>
<div class="paragraph">
<p>Adding repeatable UI to containers is often done in loops. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java spelling_exception lang-java" data-lang="java">LinearLayout parent = findViewById(R.id.emails_list);
for (Email email : inboxMessages) {
    View messageChunk = getLayoutInflater().inflate(R.layout.chunk_email, parent, false);
    TextView senderLabel = messageChunk.findViewById(R.id.sender);
    senderLabel.setText(email.getSenderName());
    // Do something with any other views in the chunk...
    parent.addView(messageChunk);
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<a class="anchor" id="_accessing_resources"></a><h3>3.4. Accessing Resources</h3>
<div class="paragraph">
<p>To make it easier to translate apps into different languages, Android considers it good practice
to put user-facing strings of text in string resources in <code>res/values/strings.xml</code>
rather than hardcoding them as string literals in your Java files.
We don&#x2019;t impose that as a requirement, but you will find it helpful
to be able to access string and string array resources.</p>
</div>
<div class="paragraph">
<p>The object returned by the <code>getResources</code> function of activities grants access to the app&#x2019;s
resources. The value of string resources identified by their <code>R.string</code> constants
<span class="badge badge-illinois-orange" data-toggle="popover" data-placement="top" data-html="true" data-content="&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;which come from the &lt;code&gt;name&lt;/code&gt; attributes in that XML file&lt;/body&gt;&lt;/html&gt;">3</span>
can be accessed with <code>getString</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java spelling_exception lang-java" data-lang="java">String appName = getResources().getString(R.string.app_name);</code></pre>
</div>
</div>
<div class="paragraph">
<p>More relevant to the MP, string arrays can be accessed with <code>getStringArray</code>
by their <code>R.array</code> constant:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java spelling_exception lang-java" data-lang="java">String[] teamNames = getResources().getStringArray(R.array.team_choices);</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you&#x2019;re curious, you can see Android&#x2019;s official
<a href="https://developer.android.com/reference/android/content/res/Resources" target="_blank" class="external"><code>Resources</code> documentation</a>
for more information.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<a class="anchor" id="_web_api"></a><h2>4. Web API</h2>
<div class="sectionbody">
<div class="paragraph lead">
<p><a href="https://en.wikipedia.org/wiki/Application_programming_interface" target="_blank" class="external"><em>API</em></a> stands for
Application Programming Interface. An API specifies the structure or <em>contract</em> for communication
between applications.
When using an API you don&#x2019;t need to be concerned about how the service is implemented.
You just need to properly submit a request and understand the response.</p>
</div>
<div class="paragraph">
<p>Here and for your final project we are most interested in <em>web APIs</em>, which are accessed
over the Internet using standardized web protocols.
The most common Internet protocol is
<a href="https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol" target="_blank" class="external">HTTP</a>,
Hypertext Transfer Protocol.
Each HTTP request specifies a document, method, and sometimes a body.
When browsing the web, the document specifies which page you&#x2019;d like to look at.
When using an API, the document is often referred to as the <em>endpoint</em> and specifies
what function you would like the service to do for you.
The most common HTTP methods are <code>GET</code> and <code>POST</code>.
<code>GET</code> requests access data; <code>POST</code> requests make a submission, change something, or generally
take an action.</p>
</div>
<div class="sect2">
<a class="anchor" id="json"></a><h3>4.1. What is JSON?</h3>
<div class="paragraph">
<p>In object-oriented languages, structured data can be modeled with classes.
But servers and clients can be written in many different languages with wildly varying
conceptions of how data should be laid out, so for the response data to be transferred
between them, it must be written in (<em>serialized</em> into) a mutually understandable format
that correctly conveys the structure of the information.</p>
</div>
<div class="paragraph">
<p><a href="https://en.wikipedia.org/wiki/JSON" target="_blank" class="external">JSON</a> has become an extremely common format
for exchanging data on the web. JSON is text that describes a hierarchy of objects and their
properties. A Google Maps <code>LatLng</code> object might be represented like this in JSON:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json spelling_exception lang-json" data-lang="json">{
  &quot;latitude&quot;: 40.109187,
  &quot;longitude&quot;: -88.227213
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Curly braces surround the contents of a JSON object. Each <em>property</em> (which corresponds to
a variable in Java) has a quoted name before the colon and a value after.
Values can be numbers, strings, booleans, objects, or arrays
<span class="badge badge-illinois-orange" data-toggle="popover" data-placement="top" data-html="true" data-content="&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;or even null&lt;/body&gt;&lt;/html&gt;">4</span>.</p>
</div>
<div class="paragraph">
<p>Here&#x2019;s a more complicated JSON object partially representing a class:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json spelling_exception lang-json" data-lang="json">{
  &quot;name&quot;: &quot;CS 125&quot;,
  &quot;enrollment&quot;: 800,
  &quot;location&quot;: {
    &quot;name&quot;: &quot;Foellinger Auditorium&quot;,
    &quot;allows_food&quot;: false,
    &quot;latitude&quot;: 40.105952,
    &quot;longitude&quot;: -88.227204
  },
  &quot;lecture_days&quot;: [
    &quot;Monday&quot;,
    &quot;Wednesday&quot;,
    &quot;Friday&quot;
  ]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>There, the value of the <code>location</code> property on the root object is another object,
which has four properties of its own.
<code>lecture_days</code> on the root object is an array of the three strings
<code>Monday</code>, <code>Wednesday</code>, and <code>Friday</code>.
Arrays may contain any kind of value including objects or other arrays.</p>
</div>
</div>
<div class="sect2">
<a class="anchor" id="_using_gson"></a><h3>4.2. Using Gson</h3>
<div class="paragraph">
<p>Virtually all languages in common use today have JSON libraries available, so you don&#x2019;t
have to parse the JSON text yourself.</p>
</div>
<div class="paragraph">
<p>For the MP we&#x2019;ll be using Google&#x2019;s Gson library to work with JSON.
We have added it to the project for you and provided helper functions that automatically
parse JSON received from our server into instances of Gson classes.
The classes you&#x2019;ll be working with most are
<a href="https://static.javadoc.io/com.google.code.gson/gson/2.8.5/com/google/gson/JsonElement.html" target="_blank" class="external"><code>JsonElement</code></a>,
<a href="https://static.javadoc.io/com.google.code.gson/gson/2.8.5/com/google/gson/JsonObject.html" target="_blank" class="external"><code>JsonObject</code></a>,
and
<a href="https://static.javadoc.io/com.google.code.gson/gson/2.8.5/com/google/gson/JsonArray.html" target="_blank" class="external"><code>JsonArray</code></a>.</p>
</div>
<div class="openblock alert alert-warning">
<div class="content">
<div class="paragraph">
<p>The Android SDK includes very similarly named classes like <code>JSONObject</code> (note
the capitalization).
You must use Gson; attempting to use other JSON libraries will fail during grading.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>A <code>JsonObject</code> represents a curly-braced JSON object.
Its <code>get</code> method returns the value of a specified property as a <code>JsonElement</code>
(or null if the requested property was absent).
<code>JsonElement</code>s have several methods to get the value as a specific type,
e.g. <code>getAsInt</code> interprets the value as an integer and returns a Java <code>int</code>.
For example, this snippet gets the class name and enrollment from the second example object
in the previous section:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java spelling_exception lang-java" data-lang="java">// Suppose cs125 is a JsonObject variable
String className = cs125.get(&quot;name&quot;).getAsString();
int enrollment = cs125.get(&quot;enrollment&quot;).getAsInt();</code></pre>
</div>
</div>
<div class="paragraph">
<p>Accessing values from nested objects requires getting a <code>JsonObject</code> for those nested objects first.
Trying to get the <code>allows_food</code> property on the root object would fail because it doesn&#x2019;t exist
there, but this works:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java spelling_exception lang-java" data-lang="java">JsonObject venue = cs125.get(&quot;location&quot;).getAsJsonObject();
boolean allowsFoodInClass = venue.get(&quot;allows_food&quot;).getAsBoolean();</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>JsonArray</code>s have a <code>get</code> method to get the value at the specified index,
but they are also iterable with the enhanced for loop like a normal array:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java spelling_exception lang-java" data-lang="java">JsonArray lectureDays = cs125.get(&quot;lecture_days&quot;).getAsJsonArray();
for (JsonElement d : lectureDays) {
    String day = d.getAsString();
    // Do something with day?
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<a class="anchor" id="_making_web_requests"></a><h3>4.3. Making Web Requests</h3>
<div class="paragraph">
<p>We have provided a <code>WebApi</code> class with some functions that issue web requests
by using Google&#x2019;s Volley library.
Web requests take a while, so rather than stalling the execution of your app,
Volley waits for the request&#x2019;s completion in the background and runs a handler
when the response comes back. If the request failed for some reason (maybe the phone
isn&#x2019;t connected to the Internet), Volley notifies a different handler of the error.
You can make a <code>GET</code> request from activity code like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java spelling_exception lang-java" data-lang="java">WebApi.startRequest(this, WebApi.API_BASE + &quot;/some/endpoint&quot;, response -&gt; {
    // Code in this handler will run when the request completes successfully
    // Do something with the response?
}, error -&gt; {
    // Code in this handler will run if the request fails
    // Maybe notify the user of the error?
    Toast.makeText(this, &quot;Oh no!&quot;, Toast.LENGTH_LONG).show();
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>The first parameter is the Android context, which can just be the current activity instance.
The second is the URL to contact. In the MP, it should always be <code>WebApi.API_BASE</code> concatenated
with the endpoint you&#x2019;d like to access. In the success handler, the <code>response</code> object will contain
the response data as a <code>JsonObject</code> if the endpoint returns a result, otherwise it will be null.
We don&#x2019;t test for any specific error-related behavior, so your error handler can do anything
you think is reasonable.</p>
</div>
<div class="paragraph">
<p>To make a <code>POST</code> request, use the more complex overload of <code>startRequest</code> that allows
specifying the method and including a body. The method parameter can be either
<code>Request.Method.POST</code> or <code>Request.Method.GET</code> (imported from Volley).
For this checkpoint, the body parameter can always be null, since no data needs to be uploaded.</p>
</div>
</div>
<div class="sect2">
<a class="anchor" id="_our_api_documentation"></a><h3>4.4. Our API Documentation</h3>
<div class="paragraph lead">
<p>To use an API, you need to know what requests are valid and what format of data you get back.
This section tells you the endpoints you need to contact and the structure of the JSON response.</p>
</div>
<div class="paragraph">
<p>The <code>/games</code> endpoint accepts <code>GET</code> requests and returns information on the games the
user is involved in or invited to. The resulting object has a single property called <code>games</code>,
which is an array. Each element of that array is an object with at least these properties:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>id</code> (string) is the game&#x2019;s unique ID for use in other requests about that game specifically.</p>
</li>
<li>
<p><code>owner</code> (string) is the email address of the game&#x2019;s owner/creator.</p>
</li>
<li>
<p><code>state</code> (integer) is the <code>GameStateID</code> code for the game&#x2019;s current status.</p>
</li>
<li>
<p><code>mode</code> (string) is the game mode, either &quot;area&quot; or &quot;target&quot;.</p>
</li>
<li>
<p><code>players</code> is the array of all players, including the current user, invited to or involved in
the game. Each object has at least these properties:</p>
<div class="ulist">
<ul>
<li>
<p><code>email</code> (string) is the player&#x2019;s email.</p>
</li>
<li>
<p><code>state</code> (integer) is the <code>PlayerStateID</code> code for the player&#x2019;s current status in the game.</p>
</li>
<li>
<p><code>team</code> (integer) is the <code>TeamID</code> code for the player&#x2019;s team/role in the game.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>You may find this <a href="/MP/2019/fall/files/MP2/games.json"><strong>example JSON response</strong></a> helpful.</p>
</div>
<div class="paragraph">
<p>Some of the values mentioned are numeric codes: integers that indicate different states,
like Android&#x2019;s <code>View.VISIBLE</code> or <code>View.GONE</code>. Constants for game-relevant codes are provided
in the three classes in <code>Constants.java</code>. So e.g. rather than comparing against the magic number 2
to see if the game is over, compare against <code>GameStateID.ENDED</code>.</p>
</div>
<div class="paragraph">
<p>The following three endpoints accept <code>POST</code> requests regarding the user&#x2019;s participation in
a specific game and return no information.
Replace <code>GAME_ID</code> in the endpoint with the game&#x2019;s unique ID from the above results.
All will fail with an HTTP 404 error if the specific game does not exist.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>/games/GAME_ID/accept</code> accepts the invitation to the game.
Will fail if the user does not have a pending invitation to it.</p>
</li>
<li>
<p><code>/games/GAME_ID/decline</code> declines the invitation to the game.
Will fail if the user does not have a pending invitation to it.</p>
</li>
<li>
<p><code>/games/GAME_ID/leave</code> leaves an ongoing game that the user previously accepted an invitation to.
Will fail if the user already left or was never invited.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<a class="anchor" id="_your_goal"></a><h2>5. Your Goal</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Once you finish Checkpoint 2, the app will start by requiring the user to log in.
The main activity will show a list of invitations fetched from our central game server
and allow the user to accept or decline them.
It will also list ongoing games (accepted invitations) and provide UI to enter the game
or withdraw from it.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/MP/2019/fall/images/MP2/gameslists.png" alt="completed games lists UI">
</div>
</div>
<div class="paragraph">
<p>While there may be slightly more lines of code necessary for MP2 than previous checkpoints,
it should be more straightforward than MP1 if you <strong>read the above sections</strong> and refer to them
as you apply their concepts to the project. As always, <strong>starting early</strong> and making steady
progress is the best strategy to succeed on the MP.</p>
</div>
<div class="sect2">
<a class="anchor" id="_login_activity"></a><h3>5.1. Login Activity</h3>
<div class="paragraph">
<p>Like when you first started Checkpoint 1, the test suites will not be able to compile immediately
after acquiring the new Checkpoint 2 files. You need to create the <code>LaunchActivity</code> activity,
which will become the app&#x2019;s new initial/startup activity.</p>
</div>
<div class="paragraph">
<p>Right-click our package that contains all the Java files you&#x2019;ve been working with and select
<em>New | Activity | Empty Activity</em>. Enter <code>LaunchActivity</code> in the Activity Name box, which should
automatically set the Layout Name to <code>activity_launch</code>. Make sure the Source Language is set
to Java, then press Finish to create the activity. If prompted to add the new files to Git,
do so.</p>
</div>
<div class="openblock alert alert-warning">
<div class="content">
<div class="paragraph">
<p>While creating the activity, Android Studio may damage the <code>build.gradle.kts</code> file
under the <code>app</code> folder, causing <strong>script compilation errors</strong>.
If so, right-click that file in the Project pane and choose <em>Git | Revert</em>.
Make sure only the <code>build.gradle.kts</code> file is selected, then press Revert to restore
the correct version. If a &quot;Gradle project sync failed&quot; banner appeared at the top
of the code editor, click the &quot;try again&quot; link.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>To change the app&#x2019;s startup activity, we need to change the <em>manifest</em>, an XML file
that contains various registration and metadata about the app.
It is named <code>AndroidManifest.xml</code>, located directly inside the <code>main</code> folder.
We planned for you to move the <code>&lt;intent-filter&gt;</code> section from <code>MainActivity</code>&apos;s registration to
<code>LaunchActivity</code>&apos;s yourself, but due to an error in the Checkpoint 0 distribution process
we accidentally gave the Checkpoint 2 solution version of the manifest to <em>some</em> of you.
So in the interest of fairness,
<a href="https://gist.github.com/Fleex255/390bb22a54c2054c2e5150223e489cdb" target="_blank" class="external">here is the solution manifest</a>
which you may simply copy-paste over the version in your repository.
If you&#x2019;re curious, you can read
<a href="https://developer.android.com/guide/topics/manifest/manifest-intro" target="_blank" class="external">Android&#x2019;s official manifest documentation</a>.</p>
</div>
<div class="paragraph">
<p>We will be using Google&#x2019;s Firebase Authentication service to display a login flow and
manage credentials.
We want the user to be sent directly to the main app if they&#x2019;re already logged in,
but if not we will start the login process. So the <code>onCreate</code> logic will have this structure:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java spelling_exception lang-java" data-lang="java">if (/* the user is logged in */) { // see below discussion
    // launch MainActivity
    finish();
} else {
    // start login activity for result - see below discussion
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>FirebaseAuth.getInstance().getCurrentUser()</code> returns an object representing the authenticated
user or null if the user has not logged in. Checking it for null allows you to determine
whether the user needs to sign in. Later in this checkpoint you&#x2019;ll find this object&#x2019;s
<code>getEmail()</code> function useful for getting the current user&#x2019;s email, which serves as their
identifier in the game.</p>
</div>
<div class="paragraph">
<p>If you&#x2019;ve determined that the user needs to log in, you can start the Firebase Authentication UI
flow according to
<a href="https://firebase.google.com/docs/auth/android/firebaseui#sign_in" target="_blank" class="external">this Google example</a>
but with only email authentication enabled.
The example code assumes an <code>RC_SIGN_IN</code> constant (&quot;<em>r</em>equest <em>c</em>ode for <em>sign</em>-<em>in</em>&quot;),
which you may define as an integer of your choice or pick a different name for.
Either way, the value you pass to <code>startActivityForResult</code> will be passed as the request code to
<code>onActivityResult</code> when the login flow completes.</p>
</div>
<div class="paragraph">
<p><code>onActivityResult</code>, as described in the Getting Results from Activities section,
will be called when the login flow is over whether or not the user actually signed in.
So <code>onActivityResult</code> will need logic to check that before proceeding to the main activity:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java spelling_exception lang-java" data-lang="java">if (/* the result is from the login request */) {
    if (/* the user successfully logged in */) { // see below discussion
        // launch MainActivity
        finish();
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>To see if the login flow was successful, you can either check the result code against
<code>RESULT_OK</code> like Google&#x2019;s example does, or repeat the logic you used to determine whether
the user was signed in in the first place.</p>
</div>
<div class="paragraph">
<p>If the user canceled the login flow, they&#x2019;ll see the <code>LaunchActivity</code> UI.
Use the UI designer to add a button with ID <code>goLogin</code>.
Feel free to caption this whatever you like and add any explanatory labels about
needing to log in to use the app.
Pushing the button should start the login process again.</p>
</div>
<div class="openblock alert alert-warning">
<div class="content">
<div class="paragraph">
<p>When testing your app in the emulator, you&#x2019;ll be prompted to create an account with email
and password. Even if you use your university email address, your account with the game service
will not be linked to Shibboleth. For your security, do not reuse your Active Directory (NetID)
password here.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<a class="anchor" id="_games_lists"></a><h3>5.2. Games Lists</h3>
<div class="paragraph">
<p>Now we&#x2019;ll make the main activity display invitations and ongoing games.
When the app is complete, it will be possible to invite players to new multiplayer games and set
their role: either an observer or a player on one of up to four teams.
In addition to the fact that they&#x2019;ve been invited to a game, players would want to know who
invited them and in what capacity they would participate.</p>
</div>
<div class="paragraph">
<p>Open the <code>activity_main.xml</code> layout resource file and add some views to hold game information:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Add some kind of container (vertical <code>LinearLayout</code> suggested) with ID <code>invitationsGroup</code>
inside the provided <code>LinearLayout</code>.</p>
</li>
<li>
<p>Inside that group, add a <code>TextView</code> label displaying the word <em>Invitations</em>.</p>
</li>
<li>
<p>Also inside that group, add a vertical <code>LinearLayout</code> with ID <code>invitationsList</code>.
We&#x2019;re not going to put anything inside this in the UI designer&#x2014;it&#x2019;ll be populated at
runtime with invitation entries.</p>
</li>
<li>
<p>In the outermost, provided <code>LinearLayout</code>, add some kind of container with ID <code>ongoingGamesGroup</code>.</p>
</li>
<li>
<p>Inside that group, add a label displaying the phrase <em>Ongoing Games</em>.</p>
</li>
<li>
<p>Also inside that group, add a vertical <code>LinearLayout</code> with ID <code>ongoingGamesList</code>.
Like <code>invitationsList</code>, it should remain empty here.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Update <code>MainActivity</code> to immediately request the games list from the server when it starts.
Refer to the Our API Documentation section above for the request endpoint and result format.
Until the request completes (that is, initially) the invitations and ongoing games groups should
have &quot;gone&quot; visibility. When the response is received, populate the games list <code>LinearLayout</code>s
with one chunk/row per game. We have provided the empty <code>chunk_ongoing_game.xml</code> layout resource
to which you can add repeatable game information UI. While you could use that some chunk for
both invitations and ongoing games, it will be useful for the next section to add a
<code>chunk_invitations.xml</code> layout resource for invitations specifically.</p>
</div>
<div class="paragraph">
<p>Entries for games to which the user has a pending invitation should
be in <code>invitationsList</code>. The <code>invitationsGroup</code> container should be gone if there are no
pending invitations.
Entries for games the user is currently involved in and that have not ended
should be in <code>ongoingGamesList</code>. Both kinds of entries should display the game owner&#x2019;s email,
the game mode (&quot;target mode&quot; or &quot;area mode&quot;), and the user&#x2019;s role/team name
<span class="badge badge-illinois-orange" data-toggle="popover" data-placement="top" data-html="true" data-content="&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;for which the &lt;code&gt;team_choices&lt;/code&gt; string array resource will be relevant&lt;/body&gt;&lt;/html&gt;">5</span>
in labels.</p>
</div>
<div class="paragraph">
<p>Games that have ended are considered &quot;historical&quot; and should not be displayed in
either of the required games lists, but you are welcome to add a third group and list for them.
We will also accept an optional <code>chunk_historical_game.xml</code> layout for holding repeatable
historical game UI.</p>
</div>
<div class="paragraph">
<p><strong>To test your games list UI</strong> in the emulator even though it&#x2019;s not possible to create invitations,
we have set up <a href="https://misc.rigeltechnical.com/campussnake/invitetest.html" target="_blank" class="external">a web site</a>
where you can sign in to the game service (with the same credentials you use for the app)
and make virtual players invite you to games with a random mode and role.</p>
</div>
</div>
<div class="sect2">
<a class="anchor" id="_invitationgame_buttons"></a><h3>5.3. Invitation/Game Buttons</h3>
<div class="paragraph">
<p>To allow the user to respond to invitations or leave games, we will need to make it possible
to interact with the game information chunks.</p>
</div>
<div class="paragraph">
<p>To the invitation entries, add two buttons, one labeled Accept and one labeled Decline.
Similarly, each ongoing game entry should have an Enter and a Leave button,
except that Leave should be gone if the user is the owner/creator of that game&#x2014;if a game&#x2019;s
owner left, the game could no longer be controlled. Pressing Accept, Decline, or Leave should
send the appropriate web request to inform the server of the user&#x2019;s decision.
Once that request completes, the games list should be fetched again and the UI should be updated
so that the user sees that their decision took effect.</p>
</div>
<div class="paragraph">
<p><strong>To confirm that these buttons and web requests are working</strong>, you can use
<a href="https://misc.rigeltechnical.com/campussnake/invitetest.html" target="_blank" class="external">the invitation testing site</a>.
The &quot;invitation status&quot; column will update immediately when you respond to an invitation
or leave a game created by a virtual player.</p>
</div>
<div class="paragraph">
<p>When the app is done, pressing the Enter button on an ongoing game will enter that game,
showing the map and putting the user into active gameplay. Multiplayer games aren&#x2019;t implemented
yet, but we can set up the intent in advance. Make clicking an Enter button launch <code>GameActivity</code>
with that game&#x2019;s unique ID (a string) in the <code>game</code> extra.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<a class="anchor" id="_grading"></a><h2>6. Grading</h2>
<div class="sectionbody">
<div class="paragraph">
<p>MP2 is worth 100 points total, broken down as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>5 points</strong> for making <code>LaunchActivity</code> the startup activity</p>
</li>
<li>
<p><strong>20 points</strong> for the login flow</p>
</li>
<li>
<p><strong>25 points</strong> for the games lists</p>
</li>
<li>
<p><strong>20 points</strong> for the invitation response buttons</p>
</li>
<li>
<p><strong>10 points</strong> for the enter-game intent</p>
</li>
<li>
<p><strong>10 points</strong> for having no <code>checkstyle</code> violations</p>
</li>
<li>
<p><strong>10 points</strong> for submitting code that earns at least <em>40 points</em>
by 8 PM on your early deadline day</p>
</li>
</ul>
</div>
<div class="sect2">
<a class="anchor" id="_test_cases"></a><h3>6.1. Test Cases</h3>
<div class="paragraph">
<p>Unlike previous checkpoints, Checkpoint 2 has no purely computational functions&#x2014;everything
you do here makes the <em>app</em> do something. Therefore, the test suite doesn&#x2019;t call your functions
with selected inputs or directly check their return values; it instead tries interacting with
your app in a simulated Android environment. While fully understanding how <code>Checkpoint2Test</code>
works is not expected, reading the assertions it makes may help you understand what exactly
the tests are looking for.</p>
</div>
</div>
<div class="sect2">
<a class="anchor" id="_style_points"></a><h3>6.2. Style Points</h3>
<div class="paragraph">
<p>Proper style continues to constitute 10% of your grade.
Android Studio and <code>checkstyle</code> may have different opinions on how much handlers
should be indented when passed as parameters to functions like <code>WebApi.startRequest</code>.
If the default indentation level does not satisfy <code>checkstyle</code>, you can select a chunk of code
and use Shift+Tab to remove one level of indentation or Tab to add one level.
Alternatively, you can select some of the spaces at the beginning of the line and press Delete
to remove them without Android Studio trying to put them back.</p>
</div>
</div>
<div class="sect2">
<a class="anchor" id="_submitting_your_work"></a><h3>6.3. Submitting Your Work</h3>
<div class="paragraph">
<p>As before, submitting your work requires committing <strong>and pushing</strong> the files you modified/added.
You can review the <a href="/MP/2019/fall/setup/git/#committing">submitting portion</a> of our Git workflow.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<a class="anchor" id="_cliffhanger"></a><h2>7. Cliffhanger</h2>
<div class="sectionbody">
<div class="paragraph">
<p>It is somewhat common in larger projects for a feature to not be very useful to the application
overall until several pieces of functionality are in place.
While the app can show and respond to invitations after you complete Checkpoint 2,
there is no way to actually create or invite anyone to a multiplayer game.
Checkpoint 3 will make it possible to configure multiplayer games and send invitations.</p>
</div>
</div>
</div>
<div class="sect1">
<a class="anchor" id="_cheating"></a><h2>8. Cheating</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <a href="/info/2019/fall/syllabus/#cheating">cheating policies</a> in the syllabus continue to apply.
Do not submit work done by anyone else or share your MP code with others.</p>
</div>
</div>
</div>

    </main>
  </div>
</div>

<div class="container hidden-print">
  <div class="row" style="margin-top: 10px; margin-bottom: 20px;">
    <div class="col-xs-12">
      <hr>
    </div>
    <div class="small col-xs-12 col-md-4 col-md-offset-4 text-center">
      Created 10/24/2021 <br>
      Updated 10/24/2021
    </div>
    <div class="small col-xs-12 col-md-4 text-center">
      <a class="link_exception external" href="https://github.com/cs125-illinois/www/commit/757182888eb7ea986f2788b840e32ee4da2480f8" target="_blank">Commit <code>7571828</code></a>
      //
      <a class="link_exception external" href="https://github.com/cs125-illinois/www/commits/master/src/MP/2019/fall/2.adoc" target="_blank">History</a> //
      <a class="link_exception external" href="https://github.com/cs125-illinois/www/blob/master/src/MP/2019/fall/2.adoc" target="_blank">View</a>
      <br>
      Built 10/24/2021 @ 20:55 EDT
    </div>
  </div>
</div>

<script src="/static-assets/highlight.c2ac4dbbbfbaa664d982.js"></script>







</body></html><!--
  vim: et:ts=2:sw=2:ft=html
--><!--
  vim: et:ts=2:sw=2:ft=html
-->